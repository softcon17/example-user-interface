{"version":3,"sources":["machine-dashboard.es6.js"],"names":["Polymer","is","properties","timeslots","type","Array","value","hours","hour","push","machineStatus","dateTimeNow","String","Date","toISOString","machines","notify","machinesDropdownData","bookings","postMachinesURL","getMachinesURL","putMachinesURL","getBookingsURL","postBookingsURL","showError","Boolean","setMachinesDropdownData","result","machine","length","option","$","set","_open_modal","e","detail","sender","urlModal","modalButtonClicked","_refresh_data","console","log","srcElement","parentElement","id","_launch_booking_get_ajax","_launch_machine_get_ajax","launchAjaxRequests","_launch_machine_post","launch_machine_post_ajax","JSON","stringify","displayAlert","_do_machine_post","body","buildAjax","restPostMachine","url","generateRequest","restGetMachine","_launch_machine_put","selected","launch_machine_put_ajax","_do_machine_put","restPutMachine","restGetBooking","_launch_booking_post","launch_booking_post_ajax","dateTime","substr","_do_booking_post","restPostBooking","_machinePostSuccess","event","ironRequest","restSuccess","_machineGetSuccess","parsedMachines","machineIndex","response","statusStr","status","toLowerCase","location","name","_machinePutSuccess","_bookingPostSuccess","_bookingGetSuccess","parsedBookings","bookingIndex","dateStr","date","timeslot","machine_id","job_id","statusText","xhr","responseURL","_restFail","request","__data__","error","title","message","alertBox","document","createElement","messageTitle","visible","action","hideBadge","autoDismiss","dom","alertMessageContainer","appendChild","attached"],"mappings":"AAAA,CAAC,YAAW;;AAEVA,UAAQ;AACNC,QAAI,mBADE;AAENC,gBAAY;AACVC,iBAAW;AACTC,cAAMC,KADG;AAETC,eAAO,YAAY;AACjB,cAAIC,QAAQ,EAAZ;AACA,eAAK,IAAIC,OAAO,CAAhB,EAAmBA,OAAO,EAA1B,EAA8BA,QAAQ,CAAtC,EAAyC;AACvC,gBAAIA,OAAO,EAAX,EAAe;AACbD,oBAAME,IAAN,CAAW;AACT,uBAAQ,GAAED,IAAK,EADN;AAET,uBAAQ,IAAGA,IAAK;AAFP,eAAX;AAID,aALD,MAMK;AACHD,oBAAME,IAAN,CAAW;AACT,uBAAQ,GAAED,IAAK,EADN;AAET,uBAAQ,GAAEA,IAAK;AAFN,eAAX;AAID;AACF;AACD,iBAAOD,KAAP;AACD;AAnBQ,OADD;AAsBVG,qBAAe;AACbN,cAAMC,KADO;AAEbC,eAAQ,CACN;AACE,iBAAM,QADR;AAEE,iBAAM;AAFR,SADM,EAKN;AACE,iBAAM,SADR;AAEE,iBAAM;AAFR,SALM,EASN;AACE,iBAAM,UADR;AAEE,iBAAM;AAFR,SATM;AAFK,OAtBL;AAuCVK,mBAAa;AACXP,cAAMQ,MADK;AAEXN,eAAO,IAAIO,IAAJ,GAAWC,WAAX;AAFI,OAvCH;AA2CVC,gBAAU;AACRX,cAAMC,KADE;AAERW,gBAAQ,IAFA;AAGRV,eAAO;AAHC,OA3CA;AAgDVW,4BAAsB;AACpBb,cAAMC,KADc;AAEpBW,gBAAQ,IAFY;AAGpBV,eAAO;AAHa,OAhDZ;AAqDVY,gBAAU;AACRd,cAAMC,KADE;AAERW,gBAAQ,IAFA;AAGRV,eAAO;AAHC,OArDA;AA0DVa,uBAAiB;AACff,cAAMQ,MADS;AAEfN,eAAO;AAFQ,OA1DP;AA8DVc,sBAAgB;AACdhB,cAAMQ,MADQ;AAEdN,eAAO;AAFO,OA9DN;AAkEVe,sBAAgB;AACdjB,cAAMQ,MADQ;AAEdN,eAAO;AAFO,OAlEN;AAsEVgB,sBAAgB;AACdlB,cAAMQ,MADQ;AAEdN,eAAO;AAFO,OAtEN;AA0EViB,uBAAiB;AACfnB,cAAMQ,MADS;AAEfN,eAAO;AAFQ,OA1EP;AA8EVkB,iBAAW;AACTpB,cAAMqB,OADG;AAETnB,eAAO;AAFE;AA9ED,KAFN;AAqFNoB,6BAAyB,YAAW;AAClC,UAAIC,SAAS,EAAb;AACA,UAAI,KAAKZ,QAAT,EAAmB;AACjB,aAAK,IAAIa,UAAU,CAAnB,EAAsBA,UAAU,KAAKb,QAAL,CAAcc,MAA9C,EAAsDD,WAAW,CAAjE,EAAoE;AAClE,cAAIE,SAAS;AACX,mBAAM,KAAKf,QAAL,CAAca,OAAd,EAAuB,IAAvB,CADK;AAEX,mBAAM,KAAKb,QAAL,CAAca,OAAd,EAAuB,MAAvB;AAFK,WAAb;AAIAD,iBAAOlB,IAAP,CAAYqB,MAAZ;AACD;;AAED,aAAKC,CAAL,CAAO,mBAAP,EAA4BC,GAA5B,CAAgC,OAAhC,EAAyC,EAAzC;AACA,aAAKD,CAAL,CAAO,mBAAP,EAA4BC,GAA5B,CAAgC,OAAhC,EAAyCL,MAAzC;;AAEA,aAAKI,CAAL,CAAO,cAAP,EAAuBC,GAAvB,CAA2B,OAA3B,EAAoC,EAApC;AACA,aAAKD,CAAL,CAAO,cAAP,EAAuBC,GAAvB,CAA2B,OAA3B,EAAoCL,MAApC;AACD;AACF,KAtGK;;AAwGNM,iBAAa,UAASC,CAAT,EAAYC,MAAZ,EAAoBC,MAApB,EAA4B;AACvC,WAAKL,CAAL,CAAOM,QAAP,CAAgBC,kBAAhB;AACD,KA1GK;;AA4GNC,kBAAcL,CAAd,EAAiBC,MAAjB,EAAyBC,MAAzB,EAAiC;AAC/BI,cAAQC,GAAR,CAAY,CAACP,EAAEQ,UAAF,CAAaC,aAAb,CAA2BC,EAA5B,EAAgCT,MAAhC,EAAwCC,MAAxC,CAAZ;AACA,UAAIF,EAAEQ,UAAF,CAAaC,aAAb,CAA2BC,EAA/B,EAAmC;AACjC,YAAIV,EAAEQ,UAAF,CAAaC,aAAb,CAA2BC,EAA3B,KAAkC,oBAAtC,EAA4D;AAC1D,eAAKC,wBAAL;AACD,SAFD,MAGK,IACDX,EAAEQ,UAAF,CAAaC,aAAb,CAA2BC,EAA3B,KAAkC,+BAAlC,IACAV,EAAEQ,UAAF,CAAaC,aAAb,CAA2BC,EAA3B,KAAkC,uBADlC,IAEAV,EAAEQ,UAAF,CAAaC,aAAb,CAA2BC,EAA3B,KAAkC,yBAHjC,EAG6D;AAChE,eAAKE,wBAAL;AACD;AACF,OAVD,MAWK;AACH,aAAKA,wBAAL;AACA,aAAKD,wBAAL;AACD;AACF,KA7HK;;AA+HN;AACA;AACA;AACAE,wBAAoB,YAAY;AAC9B,WAAKD,wBAAL;AACA,WAAKD,wBAAL;AACD,KArIK;;AAuING,0BAAuB,YAAW;AAChC,UAAI,KAAKjB,CAAL,CAAO,oBAAP,EAA6BzB,KAA7B,IAAsC,KAAKyB,CAAL,CAAO,wBAAP,EAAiCzB,KAA3E,EAAkF;AAChF,aAAK2C,wBAAL,CAA8BC,KAAKC,SAAL,CAAe;AAC3C,kBAAQ,KAAKpB,CAAL,CAAO,oBAAP,EAA6BzB,KADM;AAE3C,sBAAY,KAAKyB,CAAL,CAAO,wBAAP,EAAiCzB;AAFF,SAAf,CAA9B;AAID,OALD,MAMK;AACH,aAAK8C,YAAL,CACE,QADF,EAEE,mCAFF,EAGE,WAHF;AAKD;AACF,KArJK;AAsJNC,sBAAkB,YAAW;AAC3B,WAAKJ,wBAAL,CAA8B,EAA9B;AACD,KAxJK;;AA0JNA,8BAA0B,UAASK,IAAT,EAAe;AACvC,UAAIC,YAAY,KAAKxB,CAAL,CAAOyB,eAAvB;AACAD,gBAAUE,GAAV,GAAgB,KAAK1B,CAAL,CAAO,oBAAP,EAA6BzB,KAA7C;AACAiD,gBAAUD,IAAV,GAAiBA,IAAjB;AACAC,gBAAUG,eAAV;AACD,KA/JK;;AAiKNZ,8BAA0B,YAAW;AACnC,UAAIS,YAAY,KAAKxB,CAAL,CAAO4B,cAAvB;AACAJ,gBAAUE,GAAV,GAAgB,KAAK1B,CAAL,CAAO,mBAAP,EAA4BzB,KAA5B,IAAqC,WAArD;AACAiD,gBAAUG,eAAV;AACD,KArKK;;AAuKNE,yBAAsB,YAAW;AAC/B,UAAI,KAAK7B,CAAL,CAAO,mBAAP,EAA4B8B,QAA5B,IAAwC,KAAK9B,CAAL,CAAO,qBAAP,EAA8B8B,QAA1E,EAAoF;AAClF,aAAKC,uBAAL,CAA6BZ,KAAKC,SAAL,CAAe;AAC1C,gBAAM,KAAKpB,CAAL,CAAO,mBAAP,EAA4B8B,QADQ;AAE1C,oBAAU,KAAK9B,CAAL,CAAO,qBAAP,EAA8B8B;AAFE,SAAf,CAA7B;AAID,OALD,MAMK;AACH,aAAKT,YAAL,CACE,QADF,EAEE,mCAFF,EAGE,WAHF;AAKD;AACF,KArLK;AAsLNW,qBAAiB,YAAW;AAC1B,WAAKD,uBAAL,CAA6B,EAA7B;AACD,KAxLK;AAyLNA,6BAAyB,UAASR,IAAT,EAAe;AACtC,UAAIC,YAAY,KAAKxB,CAAL,CAAOiC,cAAvB;AACAT,gBAAUE,GAAV,GAAgB,KAAK1B,CAAL,CAAO,mBAAP,EAA4BzB,KAA5C;AACAiD,gBAAUD,IAAV,GAAiBA,IAAjB;AACAC,gBAAUG,eAAV;AACD,KA9LK;AA+LNb,8BAA0B,YAAW;AACnC,UAAIU,YAAY,KAAKxB,CAAL,CAAOkC,cAAvB;AACAV,gBAAUE,GAAV,GAAgB,KAAK1B,CAAL,CAAO,mBAAP,EAA4BzB,KAA5B,IAAsC,WAAtD;AACAiD,gBAAUG,eAAV;AACD,KAnMK;;AAqMNQ,0BAAsB,YAAW;AAC/B,UAAM,KAAKnC,CAAL,CAAO,cAAP,EAAuB8B,QAAvB,IAAmC,KAAK9B,CAAL,CAAO,cAAP,EAAuBzB,KAA3D,IACE,KAAKyB,CAAL,CAAO,eAAP,EAAwB8B,QAD3B,IAEG,KAAK9B,CAAL,CAAO,oBAAP,EAA6BzB,KAFpC,EAE4C;;AAE1C,aAAK6D,wBAAL,CAA8BjB,KAAKC,SAAL,CAAe;AAC3C,uBAAa,KAAKpB,CAAL,CAAO,cAAP,EAAuB8B,QADO;AAE3C,mBAAS,KAAK9B,CAAL,CAAO,cAAP,EAAuBzB,KAFW;AAG3C,iBAAO,KAAKyB,CAAL,CAAO,gBAAP,EAAyBqC,QAAzB,CAAkCC,MAAlC,CAAyC,CAAzC,EAA4C,EAA5C,CAHoC;AAI3C,sBAAY,KAAKtC,CAAL,CAAO,eAAP,EAAwB8B,QAJO,EAAf,CAA9B;AAKD,OATD,MAUK;AACH,aAAKT,YAAL,CACE,QADF,EAEE,mCAFF,EAGE,WAHF;AAKD;AACF,KAvNK;AAwNNkB,sBAAkB,YAAW;AAC3B,WAAKH,wBAAL,CAA8B,EAA9B;AACD,KA1NK;AA2NNA,8BAA0B,UAASb,IAAT,EAAe;AACvC,UAAIC,YAAY,KAAKxB,CAAL,CAAOwC,eAAvB;AACAhB,gBAAUE,GAAV,GAAgB,KAAK1B,CAAL,CAAO,oBAAP,EAA6BzB,KAA7C;AACAiD,gBAAUnD,IAAV,GAAiB,MAAjB;AACAmD,gBAAUD,IAAV,GAAiBA,IAAjB;AACAC,gBAAUG,eAAV;AACD,KAjOK;;AAmON;AACA;AACA;AACAc,yBAAqB,UAAUC,KAAV,EAAiBC,WAAjB,EAA8B;AACjD,WAAK5B,wBAAL;AACA,WAAK6B,WAAL,CAAiBD,WAAjB;AACD,KAzOK;AA0ONE,wBAAoB,UAAUH,KAAV,EAAiBC,WAAjB,EAA8B;AAChD,WAAK3D,QAAL,GAAgB,EAAhB;AACA,UAAI;AACF,YAAI8D,iBAAiB,EAArB;AACA,aAAK,IAAIC,eAAe,CAAxB,EAA2BA,eAAeJ,YAAYK,QAAZ,CAAqBlD,MAA/D,EAAuEiD,gBAAgB,CAAvF,EAA0F;AACxF,cAAIE,YAAYN,YAAYK,QAAZ,CAAqBD,YAArB,EAAmCG,MAAnC,CAA0CC,WAA1C,EAAhB;AACAL,yBAAepE,IAAf,CAAoB;AAClBmC,gBAAI8B,YAAYK,QAAZ,CAAqBD,YAArB,EAAmClC,EADrB;AAElBuC,sBAAUT,YAAYK,QAAZ,CAAqBD,YAArB,EAAmCK,QAF3B;AAGlBC,kBAAMV,YAAYK,QAAZ,CAAqBD,YAArB,EAAmCM,IAHvB;AAIlBH,oBAAQD;AAJU,WAApB;AAMD;AACD,aAAKjE,QAAL,GAAgB8D,cAAhB;AACA,aAAKnD,uBAAL;AACA,aAAKiD,WAAL,CAAiBD,WAAjB;AACD,OAdD,CAeA,OAAOxC,CAAP,EAAU;AACRM,gBAAQC,GAAR,CAAYP,CAAZ;AACA,aAAKkB,YAAL,CACE,QADF,EAEE,kEAFF,EAGE,WAHF;AAKD;AACF,KAnQK;AAoQNiC,wBAAoB,UAAUZ,KAAV,EAAiBC,WAAjB,EAA8B;AAChD,WAAK5B,wBAAL;AACA,WAAK6B,WAAL,CAAiBD,WAAjB;AACD,KAvQK;AAwQNY,yBAAqB,UAAUb,KAAV,EAAiBC,WAAjB,EAA8B;AACjD,WAAK7B,wBAAL;AACA,WAAK8B,WAAL,CAAiBD,WAAjB;AACD,KA3QK;AA4QNa,wBAAoB,UAAUd,KAAV,EAAiBC,WAAjB,EAA8B;AAChD,WAAKxD,QAAL,GAAgB,EAAhB;AACA,UAAI;AACF,YAAIsE,iBAAiB,EAArB;AACA,aAAK,IAAIC,eAAe,CAAxB,EAA2BA,eAAef,YAAYK,QAAZ,CAAqBlD,MAA/D,EAAuE4D,gBAAgB,CAAvF,EAA0F;AACxF,cAAIC,UAAUhB,YAAYK,QAAZ,CAAqBU,YAArB,EAAmCE,IAAnC,CAAwCtB,MAAxC,CAA+C,CAA/C,EAAiD,EAAjD,CAAd;AACA,cAAGK,YAAYK,QAAZ,CAAqBU,YAArB,EAAmCG,QAAnC,GAA8C,CAAjD,EAAoD;AAClDJ,2BAAe/E,IAAf,CAAoB;AAClBoF,0BAAYnB,YAAYK,QAAZ,CAAqBU,YAArB,EAAmCI,UAD7B;AAElBC,sBAAQpB,YAAYK,QAAZ,CAAqBU,YAArB,EAAmCK,MAFzB;AAGlBH,oBAAMD,OAHY;AAIlBE,wBAAW,GAAElB,YAAYK,QAAZ,CAAqBU,YAArB,EAAmCG,QAAS;AAJvC,aAApB;AAMD,WAPD,MAQK;AACHJ,2BAAe/E,IAAf,CAAoB;AAClBoF,0BAAYnB,YAAYK,QAAZ,CAAqBU,YAArB,EAAmCI,UAD7B;AAElBC,sBAAQpB,YAAYK,QAAZ,CAAqBU,YAArB,EAAmCK,MAFzB;AAGlBH,oBAAMD,OAHY;AAIlBE,wBAAW,IAAGlB,YAAYK,QAAZ,CAAqBU,YAArB,EAAmCG,QAAS;AAJxC,aAApB;AAMD;AACF;AACD,aAAK1E,QAAL,GAAgBsE,cAAhB;AACA,aAAKb,WAAL,CAAiBD,WAAjB;AACD,OAvBD,CAwBA,OAAOxC,CAAP,EAAU;AACRM,gBAAQC,GAAR,CAAYP,CAAZ;;AAEA,aAAKkB,YAAL,CACE,QADF,EAEE,kEAFF,EAGE,WAHF;AAKD;AACF,KA/SK;AAgTNuB,iBAAa,UAASD,WAAT,EAAsB;AACjC,WAAKtB,YAAL,CACE,UADF,EAEG,GAAEsB,YAAYO,MAAO,KAAIP,YAAYqB,UAAW,GAAjD,GACK,iBAAgBrB,YAAYsB,GAAZ,CAAgBC,WAAY,yBAHnD,EAIE,aAJF;AAMD,KAvTK;AAwTNC,eAAW,UAASzB,KAAT,EAAgBC,WAAhB,EAA6B;;AAEtC,UAAIA,YAAYyB,OAAZ,CAAoBC,QAApB,CAA6BnB,MAA7B,KAAwC,GAA5C,EAAiD;AAC/C,YAAIP,YAAYyB,OAAZ,CAAoBC,QAApB,CAA6BnB,MAA7B,KAAwC,CAA5C,EAA+C;AAC7C,eAAK7B,YAAL,CACE,QADF,EAEG,mCAFH,EAGE,WAHF;AAKD,SAND,MAMO;AACL,eAAKA,YAAL,CACE,QADF,EAEG,GAAEsB,YAAY2B,KAAM,MAAK3B,YAAYyB,OAAZ,CAAoBC,QAApB,CAA6BL,UAAW,EAFpE,EAGE,WAHF;AAKD;AACF,OAdD,MAeK;AACH,aAAK3C,YAAL,CACE,UADF,EAEE,sBAFF,EAGE,aAHF;AAKD;AACF,KAhVK;;AAkVNA,kBAAc,UAASkD,KAAT,EAAgBC,OAAhB,EAAyBnG,IAAzB,EAA+B;AAC3C,UAAIoG,WAAWC,SAASC,aAAT,CAAuB,kBAAvB,CAAf;AACAF,eAASG,YAAT,GAAsBL,KAAtB;AACAE,eAASD,OAAT,GAAmBA,OAAnB;AACAC,eAASpG,IAAT,GAAcA,IAAd;AACAoG,eAASI,OAAT,GAAmB,IAAnB;AACAJ,eAASK,MAAT,GAAgB,SAAhB;AACAL,eAASM,SAAT,GAAmB,MAAnB;AACAN,eAASO,WAAT,GAAuB,IAAvB;AACA/G,cAAQgH,GAAR,CAAY,KAAKjF,CAAL,CAAOkF,qBAAnB,EAA0CC,WAA1C,CAAsDV,QAAtD;AACD,KA5VK;;AA8VNW,cAAU,YAAY;AACpB,WAAKzF,uBAAL;AACD;AAhWK,GAAR;AAmWD,CArWD","file":"machine-dashboard.js","sourcesContent":["(function() {\n\n  Polymer({\n    is: 'machine-dashboard',\n    properties: {\n      timeslots: {\n        type: Array,\n        value: function () {\n          let hours = [];\n          for (let hour = 0; hour < 24; hour += 1) {\n            if (hour < 10) {\n              hours.push({\n                \"key\": `${hour}`,\n                \"val\": `0${hour}:00`\n              });\n            }\n            else {\n              hours.push({\n                \"key\": `${hour}`,\n                \"val\": `${hour}:00`\n              });\n            }\n          }\n          return hours;\n        }\n      },\n      machineStatus: {\n        type: Array,\n        value:  [\n          {\n            \"key\":\"Online\",\n            \"val\":\"Online\"\n          },\n          {\n            \"key\":\"Offline\",\n            \"val\":\"Offline\"\n          },\n          {\n            \"key\":\"Disabled\",\n            \"val\":\"Disabled\"\n          }\n        ]\n      },\n      dateTimeNow: {\n        type: String,\n        value: new Date().toISOString()\n      },\n      machines: {\n        type: Array,\n        notify: true,\n        value: []\n      },\n      machinesDropdownData: {\n        type: Array,\n        notify: true,\n        value: []\n      },\n      bookings: {\n        type: Array,\n        notify: true,\n        value: []\n      },\n      postMachinesURL: {\n        type: String,\n        value: \"\"\n      },\n      getMachinesURL: {\n        type: String,\n        value: \"\"\n      },\n      putMachinesURL: {\n        type: String,\n        value: \"\"\n      },\n      getBookingsURL: {\n        type: String,\n        value: \"\"\n      },\n      postBookingsURL: {\n        type: String,\n        value: \"\"\n      },\n      showError: {\n        type: Boolean,\n        value: false\n      }\n    },\n    setMachinesDropdownData: function() {\n      let result = [];\n      if (this.machines) {\n        for (let machine = 0; machine < this.machines.length; machine += 1) {\n          let option = {\n            \"key\":this.machines[machine][\"id\"],\n            \"val\":this.machines[machine][\"name\"]\n          };\n          result.push(option);\n        }\n\n        this.$['drop-machine-name'].set('items', []);\n        this.$['drop-machine-name'].set('items', result);\n\n        this.$['drop-machine'].set('items', []);\n        this.$['drop-machine'].set('items', result);\n      }\n    },\n\n    _open_modal: function(e, detail, sender) {\n      this.$.urlModal.modalButtonClicked();\n    },\n\n    _refresh_data(e, detail, sender) {\n      console.log([e.srcElement.parentElement.id, detail, sender]);\n      if (e.srcElement.parentElement.id) {\n        if (e.srcElement.parentElement.id === \"BookingsRefreshBtn\") {\n          this._launch_booking_get_ajax();\n        }\n        else if (\n            e.srcElement.parentElement.id === \"UpdateMachineStatusRefreshBtn\" ||\n            e.srcElement.parentElement.id === \"MakeBookingRefreshBtn\" ||\n            e.srcElement.parentElement.id === \"MachineStatusRefreshBtn\" ) {\n          this._launch_machine_get_ajax();\n        }\n      }\n      else {\n        this._launch_machine_get_ajax();\n        this._launch_booking_get_ajax();\n      }\n    },\n\n    /***************************************************/\n    /**        Functions for sending requests         **/\n    /***************************************************/\n    launchAjaxRequests: function () {\n      this._launch_machine_get_ajax();\n      this._launch_booking_get_ajax();\n    },\n\n    _launch_machine_post : function() {\n      if (this.$['input-machine-name'].value && this.$['input-machine-location'].value) {\n        this.launch_machine_post_ajax(JSON.stringify({\n          \"name\": this.$['input-machine-name'].value,\n          \"location\": this.$['input-machine-location'].value\n        }));\n      }\n      else {\n        this.displayAlert(\n          'Uh Oh!',\n          'There is no machine data to send!',\n          'important'\n        );\n      }\n    },\n    _do_machine_post: function() {\n      this.launch_machine_post_ajax({});\n    },\n\n    launch_machine_post_ajax: function(body) {\n      let buildAjax = this.$.restPostMachine;\n      buildAjax.url = this.$['input-post-machine'].value;\n      buildAjax.body = body;\n      buildAjax.generateRequest();\n    },\n\n    _launch_machine_get_ajax: function() {\n      let buildAjax = this.$.restGetMachine;\n      buildAjax.url = this.$['input-get-machine'].value || 'undefined';\n      buildAjax.generateRequest();\n    },\n\n    _launch_machine_put : function() {\n      if (this.$['drop-machine-name'].selected && this.$['drop-machine-status'].selected) {\n        this.launch_machine_put_ajax(JSON.stringify({\n          \"id\": this.$['drop-machine-name'].selected,\n          \"status\": this.$['drop-machine-status'].selected\n        }));\n      }\n      else {\n        this.displayAlert(\n          'Uh Oh!',\n          'There is no machine data to send!',\n          'important'\n        );\n      }\n    },\n    _do_machine_put: function() {\n      this.launch_machine_put_ajax({});\n    },\n    launch_machine_put_ajax: function(body) {\n      let buildAjax = this.$.restPutMachine;\n      buildAjax.url = this.$['input-put-machine'].value;\n      buildAjax.body = body;\n      buildAjax.generateRequest();\n    },\n    _launch_booking_get_ajax: function() {\n      let buildAjax = this.$.restGetBooking;\n      buildAjax.url = this.$['input-get-booking'].value  || 'undefined';\n      buildAjax.generateRequest();\n    },\n\n    _launch_booking_post: function() {\n      if (((this.$['drop-machine'].selected && this.$['input-job-id'].value)\n          && this.$['drop-timeslot'].selected)\n          && this.$['input-post-booking'].value ) {\n\n        this.launch_booking_post_ajax(JSON.stringify({\n          \"machineid\": this.$['drop-machine'].selected,\n          \"jobid\": this.$['input-job-id'].value,\n          \"day\": this.$['day-picker-job'].dateTime.substr(0, 10),\n          \"timeslot\": this.$['drop-timeslot'].selected}));\n      }\n      else {\n        this.displayAlert(\n          'Uh Oh!',\n          'There is no booking data to send!',\n          'important'\n        );\n      }\n    },\n    _do_booking_post: function() {\n      this.launch_booking_post_ajax({});\n    },\n    launch_booking_post_ajax: function(body) {\n      let buildAjax = this.$.restPostBooking;\n      buildAjax.url = this.$['input-post-booking'].value;\n      buildAjax.type = \"json\";\n      buildAjax.body = body;\n      buildAjax.generateRequest();\n    },\n\n    /***************************************************/\n    /**       Functions for recieving responses       **/\n    /***************************************************/\n    _machinePostSuccess: function (event, ironRequest) {\n      this._launch_machine_get_ajax();\n      this.restSuccess(ironRequest);\n    },\n    _machineGetSuccess: function (event, ironRequest) {\n      this.machines = [];\n      try {\n        let parsedMachines = []\n        for (let machineIndex = 0; machineIndex < ironRequest.response.length; machineIndex += 1) {\n          let statusStr = ironRequest.response[machineIndex].status.toLowerCase();\n          parsedMachines.push({\n            id: ironRequest.response[machineIndex].id,\n            location: ironRequest.response[machineIndex].location,\n            name: ironRequest.response[machineIndex].name,\n            status: statusStr\n          });\n        }\n        this.machines = parsedMachines;\n        this.setMachinesDropdownData();\n        this.restSuccess(ironRequest);\n      }\n      catch (e) {\n        console.log(e);\n        this.displayAlert(\n          'Uh Oh!',\n          'The machine data couldnt be parsed, See the console for details!',\n          'important'\n        );\n      }\n    },\n    _machinePutSuccess: function (event, ironRequest) {\n      this._launch_machine_get_ajax();\n      this.restSuccess(ironRequest);\n    },\n    _bookingPostSuccess: function (event, ironRequest) {\n      this._launch_booking_get_ajax();\n      this.restSuccess(ironRequest);\n    },\n    _bookingGetSuccess: function (event, ironRequest) {\n      this.bookings = [];\n      try {\n        let parsedBookings = []\n        for (let bookingIndex = 0; bookingIndex < ironRequest.response.length; bookingIndex += 1) {\n          let dateStr = ironRequest.response[bookingIndex].date.substr(0,10);\n          if(ironRequest.response[bookingIndex].timeslot > 9) {\n            parsedBookings.push({\n              machine_id: ironRequest.response[bookingIndex].machine_id,\n              job_id: ironRequest.response[bookingIndex].job_id,\n              date: dateStr,\n              timeslot: `${ironRequest.response[bookingIndex].timeslot}:00`\n            });\n          }\n          else {\n            parsedBookings.push({\n              machine_id: ironRequest.response[bookingIndex].machine_id,\n              job_id: ironRequest.response[bookingIndex].job_id,\n              date: dateStr,\n              timeslot: `0${ironRequest.response[bookingIndex].timeslot}:00`\n            });\n          }\n        }\n        this.bookings = parsedBookings;\n        this.restSuccess(ironRequest);\n      }\n      catch (e) {\n        console.log(e);\n\n        this.displayAlert(\n          'Uh Oh!',\n          'The booking data couldnt be parsed, See the console for details!',\n          'important'\n        );\n      }\n    },\n    restSuccess: function(ironRequest) {\n      this.displayAlert(\n        'Woo Hoo!',\n        `${ironRequest.status} (${ironRequest.statusText})` +\n            ` - Request to ${ironRequest.xhr.responseURL} completed successfuly!`,\n        'information'\n      );\n    },\n    _restFail: function(event, ironRequest) {\n\n      if (ironRequest.request.__data__.status !== 500) {\n        if (ironRequest.request.__data__.status === 0) {\n          this.displayAlert(\n            'Uh Oh!',\n            `404 - That endpoint doesn't exist`,\n            'important'\n          );\n        } else {\n          this.displayAlert(\n            'Uh Oh!',\n            `${ironRequest.error} - ${ironRequest.request.__data__.statusText}`,\n            'important'\n          );\n        }\n      }\n      else {\n        this.displayAlert(\n          'Woo Hoo!',\n          'The endpoint exists!',\n          'information'\n        );\n      }\n    },\n\n    displayAlert: function(title, message, type) {\n      let alertBox = document.createElement(\"px-alert-message\");\n      alertBox.messageTitle=title;\n      alertBox.message = message;\n      alertBox.type=type;\n      alertBox.visible = true;\n      alertBox.action=\"dismiss\";\n      alertBox.hideBadge=\"true\";\n      alertBox.autoDismiss = 5000;\n      Polymer.dom(this.$.alertMessageContainer).appendChild(alertBox);\n    },\n\n    attached: function () {\n      this.setMachinesDropdownData();\n    },\n  }\n);\n})();\n"]}